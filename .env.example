# ========================================
# 信访智能文书生成系统 - 环境变量配置示例
# ========================================
# 使用说明：
# 1. 复制此文件为 .env
# 2. 填写实际的配置值（特别是标记为"必填"的项）
# 3. 敏感信息请妥善保管，不要提交到版本控制

# ========================================
# DeepSeek API 配置（必填）
# ========================================
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_API_BASE=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# ========================================
# 华为云 Office 预览服务配置（可选）
# ========================================
# 用于文档预览降级方案
OFFICE_HTTP=https://officeweb365.apistore.huaweicloud.com/v2/gateway/fileurl
OFFICE_API_KEY=your-office-api-key
OFFICE_APP_SECRET=your-office-app-secret
OFFICE_MCP_APP_CODE=your-mcp-app-code
OFFICE_X_APIG_APP_CODE=your-apig-app-code

# ========================================
# PostgreSQL 数据库配置
# ========================================
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432
POSTGRES_DB=petition_system
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password

# ========================================
# Redis 配置
# ========================================
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ========================================
# MinIO 对象存储配置
# ========================================
MINIO_ENDPOINT=http://127.0.0.1:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=petition-files
MINIO_SECURE=false

# ========================================
# 后端服务配置
# ========================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=true

# ========================================
# JWT 认证配置
# ========================================
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ========================================
# 文件上传配置
# ========================================
MAX_UPLOAD_SIZE=104857600
ALLOWED_EXTENSIONS=pdf,doc,docx

# ========================================
# API 调用配置
# ========================================
API_RETRY_TIMES=3
API_RETRY_DELAYS=1000,2000,4000
API_TIMEOUT=120

# ========================================
# ONLYOFFICE 配置（推荐）
# ========================================
# 用于文档预览和在线编辑
# 注意：本地开发时ONLYOFFICE无法工作，因为ONLYOFFICE服务器无法访问localhost
# 本地开发请使用华为云预览，部署到服务器后再启用ONLYOFFICE
ONLYOFFICE_ENABLED=false
ONLYOFFICE_SERVER_URL=http://your-onlyoffice-server:9090
ONLYOFFICE_JWT_ENABLED=false
ONLYOFFICE_CALLBACK_URL=http://your-backend-public-ip:8000/api/v1/onlyoffice/callback
BACKEND_PUBLIC_URL=http://your-backend-public-ip:8000

# ========================================
# 应用配置
# ========================================
ENVIRONMENT=development
DEBUG=false
