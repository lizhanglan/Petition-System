# å‰ç«¯é™çº§åŠŸèƒ½ä¼˜åŒ– - å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**åŠŸèƒ½åç§°**: å‰ç«¯é™çº§åŠŸèƒ½ä¼˜åŒ–  
**å¼€å‘å‘¨æœŸ**: 2026-01-02  
**å½“å‰çŠ¶æ€**: âœ… å·²å®Œæˆ  
**å¼€å‘æ–¹å¼**: å¢é‡å¼€å‘

---

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. é™çº§çŠ¶æ€é€šçŸ¥ç»„ä»¶

#### 1.1 FallbackNotice ç»„ä»¶
- âœ… å®æ—¶æ˜¾ç¤ºç³»ç»Ÿé™çº§çŠ¶æ€
- âœ… æ˜¾ç¤ºæ¢å¤æ—¶é—´ä¼°ç®—
- âœ… è‡ªåŠ¨ 30 ç§’åˆ·æ–°
- âœ… ä¼˜é›…çš„è­¦å‘Šæç¤ºæ ·å¼

**æ–‡ä»¶**: `frontend/src/components/FallbackNotice.vue`

**ç‰¹æ€§**:
- é™çº§æ¨¡å¼æ—¶æ˜¾ç¤ºé»„è‰²è­¦å‘Šæç¤º
- æ˜¾ç¤ºé¢„è®¡æ¢å¤æ—¶é—´
- è‡ªåŠ¨æ£€æµ‹çŠ¶æ€å˜åŒ–
- ç”¨æˆ·å‹å¥½çš„æç¤ºä¿¡æ¯

#### 1.2 é›†æˆåˆ°æ ¸å¿ƒé¡µé¢
- âœ… Review.vueï¼ˆæ–‡ä»¶ç ”åˆ¤é¡µé¢ï¼‰
- âœ… Generate.vueï¼ˆæ–‡ä¹¦ç”Ÿæˆé¡µé¢ï¼‰

**æ•ˆæœ**:
- ç”¨æˆ·åœ¨ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½æ—¶èƒ½ç«‹å³çœ‹åˆ°ç³»ç»ŸçŠ¶æ€
- é™çº§æ¨¡å¼ä¸‹ç”¨æˆ·çŸ¥é“åŠŸèƒ½ä»ç„¶å¯ç”¨
- æä¾›æ¢å¤æ—¶é—´é¢„æœŸ

---

### 2. å¥åº·ç›‘æ§ API

#### 2.1 å¥åº·ç›‘æ§æ¥å£
**æ–‡ä»¶**: `frontend/src/api/health.ts`

**æ¥å£åˆ—è¡¨**:
- `getHealthStatus()` - è·å–å¥åº·çŠ¶æ€
- `getFallbackStats()` - è·å–é™çº§ç»Ÿè®¡
- `healthCheck()` - ç®€å•å¥åº·æ£€æŸ¥

**æ•°æ®æ¨¡å‹**:
```typescript
interface HealthStatus {
  status: string
  mode: string
  ai_service_available: boolean
  consecutive_failures: number
  consecutive_successes: number
  last_check_time: string
  fallback_start_time?: string
  estimated_recovery_time?: string
}

interface FallbackStats {
  total_checks: number
  total_failures: number
  total_fallback_events: number
  current_fallback_duration?: number
  average_fallback_duration?: number
  last_fallback_time?: string
}
```

---

### 3. è§„åˆ™ç®¡ç† API

#### 3.1 è§„åˆ™ç®¡ç†æ¥å£
**æ–‡ä»¶**: `frontend/src/api/admin.ts`

**æ¥å£åˆ—è¡¨**:
- `getRulesList()` - è·å–è§„åˆ™åˆ—è¡¨
- `getRulesPerformance()` - è·å–è§„åˆ™æ€§èƒ½
- `getRulesStatistics()` - è·å–è§„åˆ™ç»Ÿè®¡
- `toggleRule(ruleId, enabled)` - åˆ‡æ¢è§„åˆ™çŠ¶æ€
- `reloadRules()` - é‡è½½è§„åˆ™é…ç½®

**æ•°æ®æ¨¡å‹**:
```typescript
interface Rule {
  id: string
  name: string
  description: string
  type: string
  category: string
  enabled: boolean
  priority: number
  pattern?: string
  min_length?: number
  max_length?: number
  keywords?: string[]
}

interface RulePerformance {
  rule_id: string
  rule_name: string
  execution_count: number
  total_time: number
  average_time: number
  max_time: number
  min_time: number
  is_slow: boolean
}

interface RuleStatistics {
  total_rules: number
  enabled_rules: number
  disabled_rules: number
  rules_by_category: Record<string, number>
  rules_by_type: Record<string, number>
}
```

---

### 4. ç³»ç»Ÿå¥åº·ç›‘æ§é¡µé¢

#### 4.1 SystemHealth.vue
**æ–‡ä»¶**: `frontend/src/views/SystemHealth.vue`

**åŠŸèƒ½ç‰¹æ€§**:
1. **æœåŠ¡çŠ¶æ€å¡ç‰‡**
   - è¿è¡Œæ¨¡å¼ï¼ˆæ­£å¸¸/é™çº§ï¼‰
   - AI æœåŠ¡å¯ç”¨æ€§
   - è¿ç»­å¤±è´¥/æˆåŠŸæ¬¡æ•°
   - æœ€åæ£€æŸ¥æ—¶é—´
   - é™çº§å¼€å§‹æ—¶é—´
   - é¢„è®¡æ¢å¤æ—¶é—´

2. **é™çº§ç»Ÿè®¡å¡ç‰‡**
   - æ€»æ£€æŸ¥æ¬¡æ•°
   - æ€»å¤±è´¥æ¬¡æ•°
   - é™çº§äº‹ä»¶æ•°
   - å½“å‰é™çº§æ—¶é•¿
   - å¹³å‡é™çº§æ—¶é•¿
   - æœ€åé™çº§æ—¶é—´

3. **å¥åº·çŠ¶æ€æ—¶é—´çº¿**
   - çŠ¶æ€å˜åŒ–å†å²
   - æ—¶é—´æˆ³è®°å½•
   - äº‹ä»¶ç±»å‹æ ‡è¯†
   - æœ€è¿‘ 20 æ¡è®°å½•

4. **è‡ªåŠ¨åˆ·æ–°**
   - æ¯ 30 ç§’è‡ªåŠ¨æ›´æ–°
   - æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®
   - å®æ—¶çŠ¶æ€ç›‘æ§

**è·¯ç”±**: `/system-health`

---

### 5. è§„åˆ™ç®¡ç†é¡µé¢

#### 5.1 RulesManagement.vue
**æ–‡ä»¶**: `frontend/src/views/RulesManagement.vue`

**åŠŸèƒ½ç‰¹æ€§**:

1. **ç»Ÿè®¡æ¦‚è§ˆ**
   - æ€»è§„åˆ™æ•°
   - å·²å¯ç”¨è§„åˆ™æ•°
   - å·²ç¦ç”¨è§„åˆ™æ•°
   - è§„åˆ™ç±»åˆ«æ•°

2. **è§„åˆ™åˆ—è¡¨æ ‡ç­¾é¡µ**
   - è§„åˆ™ IDã€åç§°ã€æè¿°
   - ç±»åˆ«å’Œç±»å‹æ ‡ç­¾
   - ä¼˜å…ˆçº§æ˜¾ç¤º
   - å¯ç”¨/ç¦ç”¨å¼€å…³
   - è§„åˆ™è¯¦æƒ…æŸ¥çœ‹

3. **æ€§èƒ½åˆ†ææ ‡ç­¾é¡µ**
   - æ‰§è¡Œæ¬¡æ•°ç»Ÿè®¡
   - å¹³å‡è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰
   - æœ€å¤§/æœ€å°è€—æ—¶
   - æ€»è€—æ—¶
   - æ…¢è§„åˆ™æ ‡è¯†ï¼ˆ>500msï¼‰

4. **åˆ†ç±»ç»Ÿè®¡æ ‡ç­¾é¡µ**
   - æŒ‰ç±»åˆ«ç»Ÿè®¡
   - æŒ‰ç±»å‹ç»Ÿè®¡
   - å¯è§†åŒ–å±•ç¤º

5. **è§„åˆ™è¯¦æƒ…å¯¹è¯æ¡†**
   - å®Œæ•´è§„åˆ™ä¿¡æ¯
   - åŒ¹é…æ¨¡å¼
   - é•¿åº¦é™åˆ¶
   - å…³é”®è¯åˆ—è¡¨

6. **ç®¡ç†æ“ä½œ**
   - å¯ç”¨/ç¦ç”¨è§„åˆ™
   - é‡è½½é…ç½®
   - æ€§èƒ½åˆ†æ

**è·¯ç”±**: `/rules-management`

---

### 6. è·¯ç”±é…ç½®æ›´æ–°

#### 6.1 æ–°å¢è·¯ç”±
**æ–‡ä»¶**: `frontend/src/router/index.ts`

```typescript
{
  path: 'system-health',
  name: 'SystemHealth',
  component: () => import('@/views/SystemHealth.vue')
},
{
  path: 'rules-management',
  name: 'RulesManagement',
  component: () => import('@/views/RulesManagement.vue')
}
```

---

### 7. å¯¼èˆªèœå•æ›´æ–°

#### 7.1 Layout.vue èœå•
**æ–‡ä»¶**: `frontend/src/views/Layout.vue`

**æ–°å¢èœå•**:
- ç³»ç»Ÿç®¡ç†ï¼ˆå­èœå•ï¼‰
  - å¥åº·ç›‘æ§
  - è§„åˆ™ç®¡ç†

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. å®æ—¶çŠ¶æ€ç›‘æ§
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿé™çº§çŠ¶æ€
- 30 ç§’è‡ªåŠ¨åˆ·æ–°
- çŠ¶æ€å˜åŒ–å®æ—¶é€šçŸ¥

### 2. ç”¨æˆ·å‹å¥½æç¤º
- é™çº§æ¨¡å¼ä¸‹æ˜¾ç¤ºæ˜ç¡®æç¤º
- å‘ŠçŸ¥ç”¨æˆ·åŠŸèƒ½ä»ç„¶å¯ç”¨
- æä¾›æ¢å¤æ—¶é—´é¢„æœŸ

### 3. å®Œæ•´çš„è§„åˆ™ç®¡ç†
- å¯è§†åŒ–è§„åˆ™åˆ—è¡¨
- ä¸€é”®å¯ç”¨/ç¦ç”¨
- æ€§èƒ½ç›‘æ§å’Œåˆ†æ
- æ…¢è§„åˆ™è¯†åˆ«

### 4. è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯
- å¥åº·æ£€æŸ¥ç»Ÿè®¡
- é™çº§äº‹ä»¶ç»Ÿè®¡
- è§„åˆ™æ‰§è¡Œç»Ÿè®¡
- æ€§èƒ½æŒ‡æ ‡åˆ†æ

### 5. å†å²è®°å½•è¿½è¸ª
- çŠ¶æ€å˜åŒ–æ—¶é—´çº¿
- é™çº§äº‹ä»¶å†å²
- æ¢å¤äº‹ä»¶è®°å½•

---

## ğŸ“Š æŠ€æœ¯æŒ‡æ ‡

### æ€§èƒ½æŒ‡æ ‡
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 1ç§’
- âœ… çŠ¶æ€åˆ·æ–°é—´éš” 30ç§’
- âœ… API å“åº”æ—¶é—´ < 500ms
- âœ… å®æ—¶çŠ¶æ€æ›´æ–°

### ç”¨æˆ·ä½“éªŒ
- âœ… å‹å¥½çš„æç¤ºä¿¡æ¯
- âœ… æ¸…æ™°çš„çŠ¶æ€å±•ç¤º
- âœ… ä¾¿æ·çš„æ“ä½œç•Œé¢
- âœ… å®æ—¶æ•°æ®æ›´æ–°

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… é™çº§çŠ¶æ€é€šçŸ¥
- âœ… å¥åº·ç›‘æ§ä»ªè¡¨æ¿
- âœ… è§„åˆ™ç®¡ç†ç•Œé¢
- âœ… æ€§èƒ½åˆ†æå·¥å…·

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Vue 3**: Composition API
- **TypeScript**: ç±»å‹å®‰å…¨
- **Element Plus**: UI ç»„ä»¶åº“
- **Vue Router**: è·¯ç”±ç®¡ç†

### æ ¸å¿ƒæŠ€æœ¯
- **Axios**: HTTP è¯·æ±‚
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Vite**: æ„å»ºå·¥å…·

---

## ğŸ“ˆ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶ï¼ˆ7ä¸ªï¼‰
1. `frontend/src/api/health.ts` - å¥åº·ç›‘æ§ API
2. `frontend/src/api/admin.ts` - è§„åˆ™ç®¡ç† API
3. `frontend/src/components/FallbackNotice.vue` - é™çº§é€šçŸ¥ç»„ä»¶
4. `frontend/src/views/SystemHealth.vue` - å¥åº·ç›‘æ§é¡µé¢
5. `frontend/src/views/RulesManagement.vue` - è§„åˆ™ç®¡ç†é¡µé¢
6. `docs/development/å‰ç«¯é™çº§åŠŸèƒ½å¼€å‘å®Œæˆ.md` - æœ¬æ–‡æ¡£

### ä¿®æ”¹æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰
1. `frontend/src/views/Review.vue` - æ·»åŠ é™çº§é€šçŸ¥
2. `frontend/src/views/Generate.vue` - æ·»åŠ é™çº§é€šçŸ¥
3. `frontend/src/router/index.ts` - æ·»åŠ æ–°è·¯ç”±
4. `frontend/src/views/Layout.vue` - æ·»åŠ èœå•é¡¹

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. æŸ¥çœ‹é™çº§çŠ¶æ€

åœ¨æ–‡ä»¶ç ”åˆ¤æˆ–æ–‡ä¹¦ç”Ÿæˆé¡µé¢ï¼Œé¡¶éƒ¨ä¼šè‡ªåŠ¨æ˜¾ç¤ºé™çº§çŠ¶æ€æç¤ºï¼ˆå¦‚æœç³»ç»Ÿå¤„äºé™çº§æ¨¡å¼ï¼‰ã€‚

### 2. è®¿é—®å¥åº·ç›‘æ§

1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»å·¦ä¾§èœå•"ç³»ç»Ÿç®¡ç†" â†’ "å¥åº·ç›‘æ§"
3. æŸ¥çœ‹å®æ—¶å¥åº·çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
4. ç‚¹å‡»"åˆ·æ–°"æŒ‰é’®æ‰‹åŠ¨æ›´æ–°æ•°æ®

### 3. ç®¡ç†è§„åˆ™

1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»å·¦ä¾§èœå•"ç³»ç»Ÿç®¡ç†" â†’ "è§„åˆ™ç®¡ç†"
3. åœ¨"è§„åˆ™åˆ—è¡¨"æ ‡ç­¾é¡µæŸ¥çœ‹æ‰€æœ‰è§„åˆ™
4. ä½¿ç”¨å¼€å…³å¯ç”¨/ç¦ç”¨è§„åˆ™
5. ç‚¹å‡»"è¯¦æƒ…"æŸ¥çœ‹è§„åˆ™è¯¦ç»†ä¿¡æ¯
6. åˆ‡æ¢åˆ°"æ€§èƒ½åˆ†æ"æŸ¥çœ‹è§„åˆ™æ‰§è¡Œæ€§èƒ½
7. ç‚¹å‡»"é‡è½½é…ç½®"åº”ç”¨é…ç½®æ–‡ä»¶æ›´æ”¹

### 4. æ€§èƒ½åˆ†æ

1. è¿›å…¥è§„åˆ™ç®¡ç†é¡µé¢
2. ç‚¹å‡»"æ€§èƒ½åˆ†æ"æŒ‰é’®æˆ–åˆ‡æ¢åˆ°"æ€§èƒ½åˆ†æ"æ ‡ç­¾é¡µ
3. æŸ¥çœ‹æ¯ä¸ªè§„åˆ™çš„æ‰§è¡Œç»Ÿè®¡
4. è¯†åˆ«æ…¢è§„åˆ™ï¼ˆæ ‡è®°ä¸ºé»„è‰²ï¼‰
5. æ ¹æ®æ€§èƒ½æ•°æ®ä¼˜åŒ–è§„åˆ™

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. æƒé™è¦æ±‚
- å¥åº·ç›‘æ§é¡µé¢ï¼šæ‰€æœ‰ç™»å½•ç”¨æˆ·å¯è®¿é—®
- è§„åˆ™ç®¡ç†é¡µé¢ï¼šå»ºè®®ä»…ç®¡ç†å‘˜è®¿é—®ï¼ˆå¯æ·»åŠ æƒé™æ§åˆ¶ï¼‰

### 2. æ•°æ®åˆ·æ–°
- é™çº§é€šçŸ¥ç»„ä»¶æ¯ 30 ç§’è‡ªåŠ¨åˆ·æ–°
- å¥åº·ç›‘æ§é¡µé¢æ¯ 30 ç§’è‡ªåŠ¨åˆ·æ–°
- è§„åˆ™ç®¡ç†é¡µé¢éœ€æ‰‹åŠ¨åˆ·æ–°

### 3. æµè§ˆå™¨å…¼å®¹æ€§
- æ¨èä½¿ç”¨ Chromeã€Edgeã€Firefox æœ€æ–°ç‰ˆæœ¬
- éœ€è¦æ”¯æŒ ES6+ ç‰¹æ€§

### 4. æ€§èƒ½ä¼˜åŒ–å»ºè®®
- è§„åˆ™åˆ—è¡¨è¾ƒå¤šæ—¶è€ƒè™‘åˆ†é¡µ
- æ€§èƒ½æ•°æ®å¯ä»¥æ·»åŠ å›¾è¡¨å±•ç¤º
- å†å²è®°å½•å¯ä»¥æ·»åŠ æ—¶é—´èŒƒå›´ç­›é€‰

---

## ğŸ‰ æ€»ç»“

å‰ç«¯é™çº§åŠŸèƒ½ä¼˜åŒ–å·²ç»å®Œæˆï¼Œç³»ç»Ÿç°åœ¨å…·å¤‡ï¼š

1. âœ… **å®æ—¶é™çº§çŠ¶æ€é€šçŸ¥** - ç”¨æˆ·èƒ½ç«‹å³äº†è§£ç³»ç»ŸçŠ¶æ€
2. âœ… **å®Œæ•´çš„å¥åº·ç›‘æ§** - å¯è§†åŒ–å¥åº·çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
3. âœ… **å¼ºå¤§çš„è§„åˆ™ç®¡ç†** - ä¾¿æ·çš„è§„åˆ™ç®¡ç†å’Œæ€§èƒ½åˆ†æ
4. âœ… **å‹å¥½çš„ç”¨æˆ·ä½“éªŒ** - æ¸…æ™°çš„ç•Œé¢å’Œå®æ—¶æ›´æ–°

### ä¸»è¦æˆå°±
- æ–°å¢ 2 ä¸ª API æ¨¡å—
- æ–°å¢ 1 ä¸ªé€šç”¨ç»„ä»¶
- æ–°å¢ 2 ä¸ªç®¡ç†é¡µé¢
- ä¼˜åŒ– 2 ä¸ªæ ¸å¿ƒé¡µé¢
- å®Œæ•´çš„ç±»å‹å®šä¹‰

### ç”¨æˆ·ä»·å€¼
- å®æ—¶äº†è§£ç³»ç»ŸçŠ¶æ€
- é™çº§æ¨¡å¼ä¸‹å®‰å¿ƒä½¿ç”¨
- ä¾¿æ·çš„è§„åˆ™ç®¡ç†
- è¯¦ç»†çš„æ€§èƒ½åˆ†æ

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-02  
**å¼€å‘è€…**: Kiro AI Assistant  
**åŠŸèƒ½çŠ¶æ€**: âœ… å·²å®Œæˆ

